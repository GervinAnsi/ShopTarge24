@model ShopTarge24.Models.RealEstate.RealEstateCreateUpdateViewModel

@{
    var isUpdate = Model.Id.HasValue;
}

<h1 class="mb-4">@((isUpdate ? "Update" : "Create") + " Real Estate")</h1>

<div class="card p-4 shadow-sm">
    <form method="post" enctype="multipart/form-data">
        @* Hidden fields *@
        <input asp-for="Id" type="hidden" />
        <input asp-for="CreatedAt" type="hidden" />
        <input asp-for="ModifiedAt" type="hidden" />

        @* Area *@
        <div class="form-group row mb-3">
            <label asp-for="Area" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="Area" class="form-control" />
                <span asp-validation-for="Area" class="text-danger"></span>
            </div>
        </div>

        @* Location *@
        <div class="form-group row mb-3">
            <label asp-for="Location" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="Location" class="form-control" />
                <span asp-validation-for="Location" class="text-danger"></span>
            </div>
        </div>

        @* Room Number *@
        <div class="form-group row mb-3">
            <label asp-for="RoomNumber" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="RoomNumber" class="form-control" />
                <span asp-validation-for="RoomNumber" class="text-danger"></span>
            </div>
        </div>

        @* Building Type *@
        <div class="form-group row mb-3">
            <label asp-for="BuildingType" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="BuildingType" class="form-control" />
                <span asp-validation-for="BuildingType" class="text-danger"></span>
            </div>
        </div>

        @* File Upload *@
        <div class="form-group row mb-3">
            <label asp-for="Files" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <input asp-for="Files" class="form-control" type="file" multiple />
                <span asp-validation-for="Files" class="text-danger"></span>
            </div>
        </div>

        @* Image Preview Section *@
        @if (Model.Image != null && Model.Image.Any())
        {
            <div class="row mb-3">
                @foreach (var image in Model.Image)
                {
                    <div class="col-md-3 mb-2">
                        <partial name="_Images" model="image" />
                    </div>
                }
            </div>
        }

        <hr />

        <div class="d-flex gap-2">
            @if (isUpdate)
            {
                <button asp-action="Update" asp-controller="RealEstate" type="submit" class="btn btn-success">
                    <i class="bi bi-save"></i> Update
                </button>
            }
            else
            {
                <button asp-action="Create" asp-controller="RealEstate" type="submit" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Create
                </button>
            }

            <a asp-action="Index" asp-controller="RealEstate" class="btn btn-secondary">
                <i class="bi bi-arrow-left"></i> Back
            </a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
